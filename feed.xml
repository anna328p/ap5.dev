<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="https://ap5.dev/feed.xml" rel="self" type="application/atom+xml"/><link href="https://ap5.dev/" rel="alternate" type="text/html"/><updated>2023-01-04T08:49:00+00:00</updated><id>https://ap5.dev/feed.xml</id><title type="html">Anna Kudriavtsev</title><subtitle>student and computer engineer</subtitle><entry><title type="html">Bootstrapping Rails on NixOS</title><link href="https://ap5.dev/blog/2023/01/04/bootstrapping-rails-on-nixos" rel="alternate" type="text/html" title="Bootstrapping Rails on NixOS"/><published>2023-01-04T04:59:27+00:00</published><updated>2023-01-04T04:59:27+00:00</updated><id>https://ap5.dev/blog/2023/01/04/bootstrapping-rails-on-nixos</id><content type="html" xml:base="https://ap5.dev/blog/2023/01/04/bootstrapping-rails-on-nixos">&lt;p&gt;recently tried to start a Rails project on NixOS, realized that there was no obvious way to start a new one, even though it seemed fairly straightforward to work on an existing project.&lt;/p&gt; &lt;p&gt;i figured out a fairly simple process. i use direnv and flakes, and this process does too.&lt;/p&gt; &lt;p&gt;first, create a project directory. enter it. create the following two files to set up a minimal flake:&lt;/p&gt; &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;flake.nix&lt;/code&gt;&lt;/p&gt; &lt;div class=&quot;language-nix highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;description&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;TODO&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;inputs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;flake-utils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;sx&quot;&gt;numtide/flake-utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;outputs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;nixpkgs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;flake-utils&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;flake-utils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;eachDefaultSystem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;pkgs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;nixpkgs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;legacyPackages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;pkg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;pkgs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;callPackage&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;./default.nix&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;packages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;pkg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;default.nix&lt;/code&gt;&lt;/p&gt; &lt;div class=&quot;language-nix highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;stdenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;ruby_3_1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;stdenv&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;mkDerivation&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;pname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;TODO&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;version&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;TODO&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;nativeBuildInputs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;buildInputs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;ruby_3_1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;then, create an .envrc with the following content:&lt;/p&gt; &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;use flake layout ruby &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;direnv allow&lt;/code&gt;.&lt;/p&gt; &lt;p&gt;next, write a bootstrap Gemfile:&lt;/p&gt; &lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;https://rubygems.org&apos;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;rails&apos;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;install locally by running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle install --path=vendor&lt;/code&gt; (ignore the warnings for now)&lt;/p&gt; &lt;p&gt;finally, run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle exec rails install .&lt;/code&gt; and, when asked, overwrite the bootstrap gemfile with the upstream default.&lt;/p&gt;</content><author><name>Anna</name></author><category term="software"/><summary type="html">recently tried to start a Rails project on NixOS, realized that there was no obvious way to start a new one, even though it seemed fairly straightforward to work on an existing project.</summary></entry><entry><title type="html">Locking down comments</title><link href="https://ap5.dev/blog/2022/10/19/lockdown" rel="alternate" type="text/html" title="Locking down comments"/><published>2022-10-19T03:56:17+00:00</published><updated>2022-10-19T03:56:17+00:00</updated><id>https://ap5.dev/blog/2022/10/19/lockdown</id><content type="html" xml:base="https://ap5.dev/blog/2022/10/19/lockdown">&lt;p&gt;I’m having to take down this blog’s comments section for a while; apparently some people think annoying me via groomer accusation spam is useful to their lives.&lt;/p&gt; &lt;p&gt;Reach me on Discord at ap5#3091.&lt;/p&gt;</content><author><name>Anna</name></author><category term="misc"/><summary type="html">I’m having to take down this blog’s comments section for a while; apparently some people think annoying me via groomer accusation spam is useful to their lives.</summary></entry><entry><title type="html">Hello, world</title><link href="https://ap5.dev/blog/2022/08/09/hello-world-1" rel="alternate" type="text/html" title="Hello, world"/><published>2022-08-09T23:57:36+00:00</published><updated>2022-08-09T23:57:36+00:00</updated><id>https://ap5.dev/blog/2022/08/09/hello-world-1</id><content type="html" xml:base="https://ap5.dev/blog/2022/08/09/hello-world-1">&lt;p&gt;hi! this is my first blog post… ever.&lt;/p&gt; &lt;p&gt;the idea here is to talk about things i’m working on. i have a lot of various projects that i never really share with anyone, so this might be a good way to start doing that.&lt;/p&gt; &lt;p&gt;updating this website to add this blog section has been mildly infuriating. the entire ruby ecosystem for web stuff rose and fell with the dhh/rails hype cycle, and nothing has really moved since 2015. this website is built with jekyll, which is a really nice static page generator, but no one does anything interesting with it, and third-party plugins, including the one for the templating language i used to write it, are mostly abandoned and break with new enough versions of the tool.&lt;/p&gt; &lt;p&gt;in general, writing things in ruby is a mixed bag. it’s the programming language i’m most fluent in, by far, and it has some of the cleanest design i’ve ever seen. i think it’s one of the only nicely designed OOP languages. but due to said rails hype cycle issue, there’s not really much of a community around it anymore. all the discussion places are dead or move really slowly, and there just… aren’t libraries for things. i was looking for something like &lt;a href=&quot;https://github.com/nschloe/colorio&quot;&gt;colorio&lt;/a&gt; to help me implement a certain part of &lt;a href=&quot;https://github.com/arch-community/qbot&quot;&gt;my discord bot&lt;/a&gt;, but nothing like this exists. i guess no color scientists care about ruby. (if anyone has any suggestions, please let me know.)&lt;/p&gt;</content><author><name>Anna</name></author><category term="misc"/><summary type="html">hi! this is my first blog post… ever.</summary></entry></feed>